# Использование

```bash
./run_parser.sh <имя_файла_кода>
```
Пример:
```bash
./run_parser.sh input.txt 
```

# Описание и структура анализатора модельного языка программирования

## 1. Архитектурная модель распознавателя

Распознаватель (анализатор) модельного языка программирования реализует поэтапную обработку исходного текста программы на основе формальной грамматики. Его можно представить как систему, состоящую из следующих компонентов:

- **Входная лента** — последовательность символов исходного текста.
- **Читающая головка** — указывает на текущий символ ленты.
- **Устройство управления (УУ)** — определяет текущее состояние анализатора.
- **Дополнительная память (стек)** — используется для хранения промежуточных данных при синтаксическом анализе.

**Конфигурация распознавателя:**
- Состояние устройства управления (УУ)
- Содержимое входной ленты
- Положение читающей головки
- Содержимое дополнительной памяти (стека)

## 2. Этапы трансляции программы

Трансляция текста программы выполняется поэтапно:

1. **Лексический анализ** — разбиение текста на лексемы (минимальные смысловые единицы).
2. **Синтаксический анализ** — проверка структуры программы на соответствие формальной грамматике.
3. **Семантический анализ** — проверка смысловой корректности (например, объявление переменных, соответствие типов).

## 3. Лексический анализатор

**Задача:**  
Преобразовать исходный текст программы в последовательность лексем следующих типов:
- Ключевые слова
- Ограничители (разделители, специальные символы)
- Числовые константы
- Идентификаторы

**Особенности:**
- Ключевые слова и ограничители определены заранее.
- Идентификаторы и числа определяются в процессе разбора.
- Для каждого типа лексем ведется отдельная таблица.
- Внутреннее представление лексемы — пара чисел (n, k), где n — номер таблицы, k — номер лексемы в таблице.

**Обработка пробелов и комментариев:**
- Пробельные символы (пробел, табуляция, перевод строки, возврат каретки) и комментарии в фигурных скобках игнорируются.

**Реализация:**
- Лексический анализатор строится на основе регулярной грамматики и реализует конечный автомат, соответствующий диаграмме состояний.

## 4. Синтаксический анализатор

**Взаимодействие с лексическим анализатором:**
- Синтаксический анализатор по мере необходимости запрашивает очередную лексему у лексического анализатора.

**Метод анализа:**
- Используется метод рекурсивного спуска: каждому нетерминалу грамматики соответствует отдельная рекурсивная функция.

**Пример грамматических правил:**
```
RP → { D1 B }
D1 → { D }*
D → % I N ; | ! I N ; | $ I N ;
B → S1
S1 → { S }*
S → I = E ; | # H ;
E → E + T | E - T | T
T → T * F | T / F | F
F → ( E ) | N | I
H → ( L )
L → E { , E }*
```
**Реализация:**
- Синтаксический анализатор реализован в виде набора рекурсивных функций, каждая из которых соответствует одному нетерминалу грамматики.

## 5. Семантический анализ

**Проверяемые правила:**
- Отсутствие повторных объявлений идентификаторов
- Использование только объявленных идентификаторов
- Соответствие типов выражений и переменных
- Корректность логических выражений в условиях

**Интеграция с синтаксическим анализом:**
- Семантические проверки встроены в рекурсивные функции синтаксического анализатора.
- Используется структура данных `symbol_table` для хранения идентификаторов и их типов.

**Пример интеграции семантики:**
```
D → symbol_table.clear() I symbol_table.add(identifier) { , I symbol_table.add(identifier) } : [ % dec('int') | ! dec('bool') | $ dec('string') ]
```
- `dec` — функция, регистрирующая идентификаторы и контролирующая повторные объявления.

## 6. Тестирование анализатора

**Функционал:**
- Программа запускается как консольное приложение.
- На вход подается файл с программой на модельном языке.
- На выходе — сообщение о синтаксической и семантической корректности, либо подробное сообщение об ошибке (с указанием строки, столбца и описанием).

**Примеры тестов:**

- **Корректная программа:**  
  Анализатор подтверждает корректность.

- **Синтаксическая ошибка:**  
  Указание строки, столбца, ожидаемой и фактической лексемы.

- **Семантические ошибки:**  
  - Повторное объявление идентификатора
  - Использование необъявленного идентификатора
  - Несовпадение типов
  - Некорректное логическое выражение в условии

## 7. Итоговая структура анализатора

- **Лексический анализатор** — реализует конечный автомат для выделения лексем.
- **Синтаксический анализатор** — реализует рекурсивный спуск по КС-грамматике.
- **Семантический анализ** — встроен в синтаксический анализ и использует таблицу символов.
- **Консольное приложение** — принимает файл на вход, выводит результат анализа.
